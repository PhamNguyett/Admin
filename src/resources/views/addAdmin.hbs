<div class="breadcome-area">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="breadcome-list single-page-breadcome">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                            <ul class="breadcome-menu">
                                <li style="font-size: 18px;"><a href="/product" style="color: rgb(68, 68, 228);">Admin</a> <span class="bread-slash">/</span>
                                </li>
                                <li style="font-size: 18px;"><span class="bread-blod">Add Admin</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 
    
        <!-- Single pro tab review Start-->
<div class="single-pro-review-area mt-t-30 mg-b-15">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="product-payment-inner-st">
                    <ul id="myTabedu1" class="tab-review-design">
                        <li class="active"><a href="#description">Add New Admin</a></li>
                        <!-- <li><a href="#reviews"> Product Information</a></li>-->
                    </ul>
                    <div id="myTabContent" class="tab-content custom-product-edit">
                        <div class="product-tab-list tab-pane fade active in" id="description">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <div class="review-content-section">
                                        <div id="dropzone1" class="pro-ad addcoursepro">
                                            <form class="dropzone dropzone-custom needsclick addcourse" id="demo1-upload" method="post" enctype="multipart/form-data" >
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group">
                                                            <label for="username">Username</label>
                                                            <input name="username" type="text" class="form-control" placeholder="User Name" required="true" value="{{username}}"> 
                                                            <span class="info-err-username" style="color: red;">{{message}}</span>
                                                        </div>
                                                        
                                                        <div class="form-group">
                                                            <label for="name">Full name</label>
                                                            <input name="name" type="text" class="form-control" placeholder="Name" required="true" value="{{fullname}}">
                                                        </div>
                                    
                                                        <div class="form-group">
                                                            <label for="gmail">Gmail</label>
                                                            <input name="gmail" type="text" class="form-control" placeholder="Gmail" required="true">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="phone">Phone</label>
                                                            <input name="phone" type="text" class="form-control" placeholder="Phone" required="true">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="password">Password </label>
                                                            <input name="password" type="password" class="form-control" placeholder="Password" required="true" >
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="retypPassword">Retype Passwword </label>
                                                            <input name="retypePassword" type="password" id="retype" class="form-control" placeholder="Password" required="true" >
                                                            <span class="info-err" style="color: red;"></span>
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="col-lg-7 col-md-6 col-sm-6 col-xs-12" style="margin-left: 30px;">

                                                        <div class="form-group alert-up-pd" style="margin-top: 100px;">
                                                            <div class="dz-message needsclick download-custom" style="position: relative; cursor: pointer;" id="area-image">
                                                                <div style="border:1px solid #666;padding: 10px;margin-bottom: 10px;border-radius:10px">
                                                                    <label>Avatar Image</label>
                                                                    <input type="file" name="image">
                                                                    <img src="" alt="" style="width: 100px; height: auto; margin-top:20px">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <img src="" alt="" id="avatar-image" style="margin-bottom: 20px;">
                                                        <div class="col-sm-12">
                                                            <div class="preview-images"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="payment-adress">
                                                            <!--<a href="#reviews" id="btn-next" class="btn-primary" style="padding: 10px 15px ;margin-left: 20px;"> Next</a>-->
                                                            <button type="submit" id="type-pass" class="btn-primary" style="padding: 15px 25px; border: none;border-radius: 10px;">SUBMIT</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded',()=>{
        let validaUsername=/^[a-z0-9_-]{3,16}$/
        let isValid=false
        var count=0;
        var element =document.querySelector('input[name="image"]')
        const avatarImage=document.querySelector('#avatar-image')
        document.querySelector('#area-image input').addEventListener('change',(e)=>{
            console.log('first')
            if(e.target.files[0].type.split('/')[0]=='image'){
                document.querySelector(`#area-image img`).src= URL.createObjectURL(e.target.files[0]);
            }
        })
        


        const retype=document.querySelector('#retype')
        retype.addEventListener('input',(e)=>{
            let password=document.querySelector('input[name="password"]').value
            if(e.target.value!==password){
                document.querySelector('.info-err').innerText="Don't match with new password"
                document.querySelector('#type-pass').addEventListener('click',preventSubmit)
            }
            else{
                document.querySelector('.info-err').innerText=''
                document.querySelector('#type-pass').removeEventListener('click',preventSubmit)
            }
        })
        function preventSubmit(e){
            e.preventDefault()
            return
        }
        
        const inputUsername=document.querySelector('input[name="username"]')
        inputUsername.addEventListener('blur',(e)=>{
            if(!validaUsername.test(e.target.value)){
                document.querySelector('.info-err-username').innerText='username is invalid'
                isValid=false
            }
            else{
                document.querySelector('.info-err-username').innerText=''
                isValid=true
            }

        })
        const form=document.querySelector('#demo1-upload')
        form.addEventListener('submit',(e)=>{
            e.preventDefault()
            let resultCompare=document.querySelector('input[name="password"]').value===document.querySelector('input[name="retypePassword"]').value
            console.log(isValid,resultCompare)
            if(isValid&&resultCompare){
                console.log('vo da23y')
                form.submit()
            }
            console.log('vo day')
        })
    })
</script>

